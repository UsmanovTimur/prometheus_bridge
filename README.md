# prometheus bridge

## Цель

Сервис предназначен для снятия метрик при обращении к сторонним сервисам.
Не всегда удается обложить наш сервис метриками, особенно если он уже большой. Вместо того что бы обкладывать каждую API к внешнему ресурсу метриками, можно перенаправить запрос на промежуточный сборщик метрик. 
Работает по принципу "человек посередине"(MITM)

![Alt text](/docs/image.png)

## Зависимости
Проект написан на [Go](https://go.dev/)

[Инструкция по установке](https://go.dev/doc/install)


## Старт проекта
```
make start
```

## Компиляция проекта
Для сборки используется упаковщик исполняемых файлов [UPX](https://ru.wikipedia.org/wiki/UPX)
```
make build_server
```
Для сборки без упаковщика 
```
GOOS=linux GOARCH=amd64 go build -ldflags "-s -w" -o build prometheus_bridge_linux_amd64 cmd/api_server/main.go
```